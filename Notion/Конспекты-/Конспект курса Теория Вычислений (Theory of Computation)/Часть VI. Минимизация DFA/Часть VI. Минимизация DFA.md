---

## 4.1 Минимизация DFA.

_Минизация_ _**DFA**_ - процесс преобразования _**DFA**_ к его представлению, содержащему минимальное количество возможных состояний.

Предположим, у нас есть _**DFA**_ с 5 состояниями, и для их минимизации мы должны взять два состояния и объединить их.

Для того, что бы можно было объединять состояния, они должны быть эквивалентны. Дадим определение _Эквивалентности Двух Состояний:_

$\text{Два состояния A и B считаются эквивалентными, если:}\newline$

Так же запишем определения разных типов _Эквивалентности Двух Состояний_:

$\text{Если}\ |X|=0,\ \text{тогда говорят, что A и B 0-эквивалентны}\newline$

## 4.2 Минимизация DFA. Пример первый.

Есть следующий _**DFA**_:

![[dfa-minimization-example-1-1.svg]]

Первым делом изобразим таблицу переходов:

||$0$|$1$|
|---|---|---|
|$\rightarrow A$|$B$|$C$|
|$B$|$B$|$D$|
|$C$|$B$|$C$|
|$D$|$B$|$E$|
|$\bigcirc E$|$B$|$C$|

Выпишем все состояния, которые _0-Эквивалентны_: _$\{A, B, C, D\}\ \{E\}$_﻿

Выпишем все состояния, которые _1-Эквивалентны_: _$\{A, B, C\}\ \{D\}\ \{E\}$_﻿

Выпишем все состояния, которые 2_-Эквивалентны_: _$\{A, C\}\ \{B\}\ \{D\}\ \{E\}$_﻿

Выпишем все состояния, которые 3_-Эквивалентны_: _$\{A, C\}\ \{B\}\ \{D\}\ \{E\}$_﻿

И когда строки эквивалетности начинают повторяться, это значит, что мы нашли два эквивалентных состояния. В нашем случае это $\{A, C\}$﻿.

Теперь мы сконкатенуем $A$﻿ и $B$﻿ получим $AB$﻿ и составим новую таблицу переходов:

||$0$|$1$|
|---|---|---|
|$\rightarrow AC$|$B$|$AC$|
|$B$|$B$|$D$|
|$D$|$B$|$E$|
|$\bigcirc E$|$B$|$AC$|

По этой таблице построим модель _**DFA**_:

![[dfa-minimization-example-1-2.svg]]

## 4.3 Минимизация DFA. Пример второй.

_Задание:_

Сконструировать минимально возможный _**DFA**_ из эквивалентного _**DFA**_, представленного ниже:

||$0$|$1$|
|---|---|---|
|$\rightarrow q_{0}$|$q_{1}$|$q_{5}$|
|$q_{1}$|$q_{6}$|$q_{2}$|
|$\bigcirc q_{2}$|$q_{0}$|$q_{2}$|
|$q_{3}$|$q_{2}$|$q_{6}$|
|$q_{4}$|$q_{7}$|$q_{5}$|
|$q_{5}$|$q_{2}$|$q_{6}$|
|$q_{6}$|$q_{6}$|$q_{4}$|
|$q_{7}$|$q_{6}$|$q_{2}$|

Выпишем все состояния, которые _0-Эквивалентны_: _$\{q_{0}, q_{1}, q_{3}, q_{4}, q_{5}, q_{6}, q_{7}\}\ \{q_{2}\}$_﻿

Выпишем все состояния, которые _1-Эквивалентны_: _$\{q_{0}, q_{4}\}\ \{q_{6}\}\ \{q_{1}, q_{7}\}\ \{q_{3}, q_{5}\}\ \{q_{2}\}$_﻿

- _сноска_
    
    Помним, что самое главное это что бы значения шли в один сет только по одному столбцу (по _0_ или _1_).
    
    Т.е когда мы выбирали $q_{3}$﻿ и $q_{5}$﻿ мы смотрели сначала только по нулю - $q_{3}$﻿ по 0 идет в и $q_{2}$﻿ $==$﻿ и $q_{5}$﻿ по 0 идет в $q_{2}$﻿, это находится в одном множестве $\{q_{2}\}$﻿.
    
    И $q_{3}$﻿ по 1 идет в и $q_{6}$﻿ $==$﻿ и $q_{5}$﻿ по 0 идет в $q_{6}$﻿, это находится в множестве _$\{q_{0}, q_{1}, q_{3}, q_{4}, q_{5}, q_{6}, q_{7}\}$_﻿_._
    
    Такое тоже допустимо, главное проверять именно с одной входной строкой (по одному столбцу).
    

Выпишем все состояния, которые 2_-Эквивалентны_: _$\{q_{0}, q_{4}\}\ \{q_{6}\}\ \{q_{1}, q_{7}\}\ \{q_{3}, q_{5}\}\ \{q_{2}\}$_﻿

Так как в 1-эквивалентность и 2-эквивалентность набор множеств одинаков - мы получили результат.

Теперь надо составить новую таблицу переходов:

||$0$|$1$|
|---|---|---|
|$\rightarrow \{q_{0}, q_{4}\}$|$q_{1}q_{7}$|$q_{3}q_{5}$|
|$\{q_{6}\}$|$q_{6}$|$q_{0}q_{4}$|
|$\{q_{1}, q_{7}\}$|$q_{6}$|$q_{2}$|
|$\{q_{3}, q_{5}\}$|$q_{2}$|$q_{6}$|
|$\bigcirc \{q_{2}\}$|$q_{0}q_{4}$|$q_{2}$|

## 4.4 Минимизация DFA. Пример третий.

_Задача:_

Минимизировать _**DFA**_ с более чем одним конечным состоянием.

![[dfa-minimization-example-3-1.svg]]

Составим по данному автомату таблицу переходов:

||$0$|$1$|
|---|---|---|
|$\rightarrow A$|$B$|$C$|
|$B$|$A$|$D$|
|$\bigcirc C$|$E$|$F$|
|$\bigcirc D$|$E$|$F$|
|$\bigcirc E$|$E$|$F$|
|$F$|$F$|$F$|

Выпишем все состояния, которые _0-Эквивалентны_: _$\{A, B, F\}\ \{C, D, E\}$_﻿

Выпишем все состояния, которые _1-Эквивалентны_: _$\{A, B\}\ \{F\}\ \{C, D, E\}$_﻿

Выпишем все состояния, которые _2-Эквивалентны_: _$\{A, B\}\ \{F\}\ \{C, D, E\}$_﻿

Сделаем новую таблицу переходов.

||$0$|$1$|
|---|---|---|
|$\rightarrow AB$|$AB$|$CDE$|
|$F$|$F$|$F$|
|$\bigcirc CDE$|$CDE$|$F$|

Рисунок будет выглядеть так:

![[dfa-minimization-example-3-2.svg]]

## 4.5 Минимизация DFA. Пример четвертый.

В данном примере мы рассмотри, как минимизировать _**DFA**_ если у него присутствует недостижимое состояние.

_Состояние считается недостижимым, если в него не ведет ни один путь из начального состояния._

![[dfa-minimization-example-4-1.svg]]

Если у нас есть _недостижимое состояние_, и мы хотим минимизировать наш _**DFA**_, то это состояние надо **просто выбросить**.

Перерисуем рисунок без _недостижимого состояния_.

![[dfa-minimization-example-4-2.svg]]

И также составим таблицу переходов:

||$0$|$1$|
|---|---|---|
|$\rightarrow A$|$B$|$C$|
|$\bigcirc B$|$D$|$E$|
|$\bigcirc C$|$E$|$D$|
|$D$|$G$|$G$|
|$E$|$G$|$G$|
|$\bigcirc G$|$G$|$G$|

Выпишем все состояния, которые _0-Эквивалентны_: _$\{A, D, E\}\ \{B, C, G\}$_﻿

Выпишем все состояния, которые _1-Эквивалентны_: _$\{A, D, E\}\ \{B, C\}\ \{G\}$_﻿

Выпишем все состояния, которые _2-Эквивалентны_: _$\{A\}\ \{D, E\}\ \{B, C\}\ \{G\}$_﻿

Выпишем все состояния, которые 3_-Эквивалентны_: _$\{A\}\ \{D, E\}\ \{B, C\}\ \{G\}$_﻿

Напишем новую таблицу состояний:

||$0$|$1$|
|---|---|---|
|$\rightarrow A$|$BC$|$BC$|
|$DE$|$G$|$G$|
|$\bigcirc BC$|$DE$|$DE$|
|$\bigcirc G$|$G$|$G$|

И нарисуем рисунок по таблице

![[dfa-minimization-example-4-3.svg]]

## 4.6 Минимизация DFA. Теорема Майхилла - Нероуда. Метод заполнения таблицы.

![[dfa-minimization-example-5-1.svg]]

Табличный метод имеет следующие шаги:

1. Нарисовать таблицу для всех пар состояний $(P, Q)$﻿.
2. Пометить все пары, где $P \in F$﻿ и $P \notin F $﻿.
3. Если есть какие-то неотмеченные пары $(P, Q)$﻿, такие, что $[\delta(P, x), \delta(Q, x)]$﻿ отмечены, тогда надо отметить $[P, Q]$﻿.
4. Повторять до тех пор, пока не будет такой ситуации, что отметить что-то уже не выходит.
5. Объединить все неотмеченные пары и объединить их в единое состояние, в минимизированном _**DFA**_.

Нарисуем таблицу пар, всех состояний:

||$A$|$B$|$C$|$D$|$E$|$F$|
|---|---|---|---|---|---|---|
|$A$|||||||
|$B$|||||||
|$C$|||||||
|$D$|||||||
|$E$|||||||
|$F$|||||||

Так как таблица дублирует пары, например $AB$﻿ и $BA$﻿, то нам надо будет избавиться от её верхней части.

||$A$|$B$|$C$|$D$|$E$|$F$|
|---|---|---|---|---|---|---|
|$A$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$B$||$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$C$|$\checkmark$|$\checkmark$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$D$|$\checkmark$|$\checkmark$||$\varnothing$|$\varnothing$|$\varnothing$|
|$E$|$\checkmark$|$\checkmark$|||$\varnothing$|$\varnothing$|
|$F$|||$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|

Следующий шаг, будет такой: Возьмем все неотмеченные ячейки таблицы, и попарно посмотрим куда они идут при помощи функций перехода.

- $(A,B)\ \rightarrow\ [\delta(B, 0) = A,\ \delta(A, 0) = B]\ \&\ [\delta(B, 1) = D,\ \delta(A, 1) = C]$﻿. Группа $AB$﻿ - не отмечена, и группа $DC$﻿ - не отмечена, значит ячейку $AB$﻿ не отмечаем.
- $(D,C)\ \rightarrow\ [\delta(D, 0) = E,\ \delta(C, 0) = E]\ \&\ [\delta(D, 1) = F,\ \delta(C, 1) = F]$﻿. Группа $EE$﻿ - не отмечена, и группа $FF$﻿ - не отмечена, значит ячейку $DC$﻿ не отмечаем.
- $(E,C)\ \rightarrow\ [\delta(E, 0) = E,\ \delta(C, 0) = E]\ \&\ [\delta(E, 1) = F,\ \delta(C, 1) = F]$﻿. Группа $EE$﻿ - не отмечена, и группа $FF$﻿ - не отмечена, значит ячейку $EC$﻿ не отмечаем.
- $(E,D)\ \rightarrow\ [\delta(E, 0) = E,\ \delta(D, 0) = E]\ \&\ [\delta(E, 1) = F,\ \delta(D, 1) = F]$﻿. Группа $EE$﻿ - не отмечена, и группа $FF$﻿ - не отмечена, значит ячейку $ED$﻿ не отмечаем.
- $(F,A)\ \rightarrow\ $﻿. Группа $FB$﻿ - не отмечена, и группа $FC$﻿ - отмечена, значит ячейку $FA$﻿ отмечаем.
- $(F,B)\ \rightarrow\ $﻿. Группа $FA$﻿ - отмечена, и группа $FD$﻿ - отмечена, значит ячейку $FB$﻿ отмечаем.

Новая таблица, написанная по вычислениям выше:

||$A$|$B$|$C$|$D$|$E$|$F$|
|---|---|---|---|---|---|---|
|$A$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$B$||$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$C$|$\checkmark$|$\checkmark$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$D$|$\checkmark$|$\checkmark$||$\varnothing$|$\varnothing$|$\varnothing$|
|$E$|$\checkmark$|$\checkmark$|||$\varnothing$|$\varnothing$|
|$F$|$\checkmark$|$\checkmark$|$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|

В соответствии с пунктом 3 алгоритма, данного метода - мы проведем проверку еще раз. После проверки, мы увидим, что отмеченных ячеек в таблице не прибавилось, а значит это окончательное представление таблицы.

Выпишем все неотмеченные пары: $(A, B)\ (C, D)\ (C, E)\ (D, E)$﻿ - данные пары мы будем объединять в единое состояние. Получим следующую картину:

![[dfa-minimization-example-5-2.svg]]

## 4.7 Минимизация DFA. Теорема Майхилла - Нероуда. Метод заполнения таблицы. Пример первый.

_Задача:_

Минимизировать следующий _**DFA**_

![[dfa-minimization-example-6-1.svg]]

Нарисуем таблицу и отметим пары состояний, в которых есть одно конечное состояние.

||$A$|$B$|$C$|$D$|$E$|
|---|---|---|---|---|---|
|$A$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$B$||$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$C$|||$\varnothing$|$\varnothing$|$\varnothing$|
|$D$||||$\varnothing$|$\varnothing$|
|$E$|$\checkmark$|$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|

Теперь возьмем все пары из не отмеченных ячеек и попарно посмотрим, куда они идут после исполнения функции перехода.

- $(A,B)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CD$﻿ - не отмечена, значит ячейку $AB$﻿ не отмечаем.
- $(С, A)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CC$﻿ - не отмечена, значит ячейку $AC$﻿ не отмечаем.
- $(C,B)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CD$﻿ - не отмечена, значит ячейку $CB$﻿ не отмечаем.
- $(D,A)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $EC$﻿ - отмечена, значит ячейку $DA$﻿ отмечаем.
- $(D,B)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $ED$﻿ - отмечена, значит ячейку $DB$﻿ отмечаем.
- $(D,C)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $EC$﻿ - отмечена, значит ячейку $DC$﻿ отмечаем.

Перерисовываем таблицу с новыми отмеченными ячейками:

||$A$|$B$|$C$|$D$|$E$|
|---|---|---|---|---|---|
|$A$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$B$||$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$C$|||$\varnothing$|$\varnothing$|$\varnothing$|
|$D$|$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|$\varnothing$|
|$E$|$\checkmark$|$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|

Идем на вторую итерацию отметок в таблице:

- $(A,B)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CD$﻿ - отмечена, значит ячейку $AB$﻿ отмечаем.
- $(С, A)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CC$﻿ - не отмечена, значит ячейку $AC$﻿ не отмечаем.
- $(C,B)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CD$﻿ - отмечена, значит ячейку $CB$﻿ отмечаем.

Перерисовываем таблицу с новыми отмеченными ячейками:

||$A$|$B$|$C$|$D$|$E$|
|---|---|---|---|---|---|
|$A$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$B$|$\checkmark$|$\varnothing$|$\varnothing$|$\varnothing$|$\varnothing$|
|$C$||$\checkmark$|$\varnothing$|$\varnothing$|$\varnothing$|
|$D$|$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|$\varnothing$|
|$E$|$\checkmark$|$\checkmark$|$\checkmark$|$\checkmark$|$\varnothing$|

Проверим еще раз, последнюю не отмеченную пару:

- $(С, A)\ \rightarrow\ $﻿. Группа $BB$﻿ - не отмечена, и группа $CC$﻿ - не отмечена, значит ячейку $AC$﻿ не отмечаем.

Ничего не изменилось, значит можно прекратить. И это значит, что пару $(A, C)$﻿ можно объединить.

![[dfa-minimization-example-6-2.svg]]

`